{"ast":null,"code":"import cn from 'classnames';\nimport React, { useImperativeHandle, useRef, useState } from 'react';\nconst DropdownListInput = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  let {\n    name,\n    autoComplete,\n    value,\n    allowSearch,\n    placeholder,\n    textAccessor,\n    dataKeyAccessor,\n    searchTerm,\n    onSearch,\n    onAutofill,\n    onAutofillChange,\n    renderValue,\n    disabled,\n    readOnly\n  } = _ref;\n  const [autofilling, setAutofilling] = useState(false);\n  const searchRef = useRef(null);\n  const handleAutofillDetect = _ref2 => {\n    let {\n      animationName\n    } = _ref2;\n    let autofilling;\n    if (animationName === 'react-widgets-autofill-start') autofilling = true;else if (animationName === 'react-widgets-autofill-cancel') autofilling = false;else return;\n    setAutofilling(autofilling);\n    onAutofill(autofilling);\n  };\n  const handleAutofill = e => {\n    setAutofilling(false);\n    onAutofillChange(e);\n  };\n  let dataKey = dataKeyAccessor(value);\n  let text = value == null ? '' : textAccessor(value);\n  let strValue = String(dataKey != null ? dataKey : '');\n  if (strValue === String({})) strValue = '';\n  const inputValue = !value && placeholder ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rw-placeholder\"\n  }, placeholder) : renderValue ? renderValue({\n    item: value,\n    dataKey,\n    text\n  }) : text;\n  useImperativeHandle(ref, () => ({\n    focus() {\n      if (searchRef.current) searchRef.current.focus();\n    }\n  })); // There is some interaction between unmounting the search and value inputs\n  // that cancels autofilling in Chrome, it may be due to an input the browser\n  // was considering suddenly disappeared. hiding it seems to avoid the issue\n\n  const style = autofilling ? {\n    display: 'none'\n  } : undefined;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rw-dropdown-list-input\"\n  }, autoComplete !== 'off' && /*#__PURE__*/React.createElement(\"input\", {\n    name: name,\n    tabIndex: -1,\n    disabled: disabled,\n    readOnly: readOnly,\n    value: strValue == null ? '' : strValue,\n    autoComplete: autoComplete,\n    onChange: handleAutofill,\n    onAnimationStart: handleAutofillDetect,\n    \"aria-hidden\": !autofilling,\n    className: cn('rw-detect-autofill', !autofilling && 'rw-sr')\n  }), /*#__PURE__*/React.createElement(React.Fragment, null, allowSearch && /*#__PURE__*/React.createElement(\"input\", {\n    ref: searchRef,\n    disabled: disabled,\n    readOnly: readOnly,\n    style: style,\n    className: \"rw-dropdownlist-search\",\n    autoComplete: \"off\",\n    value: searchTerm || '',\n    size: (searchTerm || '').length + 2,\n    onChange: onSearch\n  }), !searchTerm && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rw-dropdown-list-value\",\n    style: style\n  }, inputValue)));\n});\nDropdownListInput.displayName = 'DropdownListInput';\nexport default DropdownListInput;","map":{"version":3,"names":["cn","React","useImperativeHandle","useRef","useState","DropdownListInput","forwardRef","_ref","ref","name","autoComplete","value","allowSearch","placeholder","textAccessor","dataKeyAccessor","searchTerm","onSearch","onAutofill","onAutofillChange","renderValue","disabled","readOnly","autofilling","setAutofilling","searchRef","handleAutofillDetect","_ref2","animationName","handleAutofill","e","dataKey","text","strValue","String","inputValue","createElement","className","item","focus","current","style","display","undefined","tabIndex","onChange","onAnimationStart","Fragment","size","length","displayName"],"sources":["C:/Users/Viktor/Desktop/TDDD27/Ny mapp/Third commit/node_modules/react-widgets/esm/DropdownListInput.js"],"sourcesContent":["import cn from 'classnames';\nimport React, { useImperativeHandle, useRef, useState } from 'react';\nconst DropdownListInput = /*#__PURE__*/React.forwardRef(function ({\n  name,\n  autoComplete,\n  value,\n  allowSearch,\n  placeholder,\n  textAccessor,\n  dataKeyAccessor,\n  searchTerm,\n  onSearch,\n  onAutofill,\n  onAutofillChange,\n  renderValue,\n  disabled,\n  readOnly\n}, ref) {\n  const [autofilling, setAutofilling] = useState(false);\n  const searchRef = useRef(null);\n\n  const handleAutofillDetect = ({\n    animationName\n  }) => {\n    let autofilling;\n    if (animationName === 'react-widgets-autofill-start') autofilling = true;else if (animationName === 'react-widgets-autofill-cancel') autofilling = false;else return;\n    setAutofilling(autofilling);\n    onAutofill(autofilling);\n  };\n\n  const handleAutofill = e => {\n    setAutofilling(false);\n    onAutofillChange(e);\n  };\n\n  let dataKey = dataKeyAccessor(value);\n  let text = value == null ? '' : textAccessor(value);\n  let strValue = String(dataKey != null ? dataKey : '');\n  if (strValue === String({})) strValue = '';\n  const inputValue = !value && placeholder ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rw-placeholder\"\n  }, placeholder) : renderValue ? renderValue({\n    item: value,\n    dataKey,\n    text\n  }) : text;\n  useImperativeHandle(ref, () => ({\n    focus() {\n      if (searchRef.current) searchRef.current.focus();\n    }\n\n  })); // There is some interaction between unmounting the search and value inputs\n  // that cancels autofilling in Chrome, it may be due to an input the browser\n  // was considering suddenly disappeared. hiding it seems to avoid the issue\n\n  const style = autofilling ? {\n    display: 'none'\n  } : undefined;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rw-dropdown-list-input\"\n  }, autoComplete !== 'off' && /*#__PURE__*/React.createElement(\"input\", {\n    name: name,\n    tabIndex: -1,\n    disabled: disabled,\n    readOnly: readOnly,\n    value: strValue == null ? '' : strValue,\n    autoComplete: autoComplete,\n    onChange: handleAutofill,\n    onAnimationStart: handleAutofillDetect,\n    \"aria-hidden\": !autofilling,\n    className: cn('rw-detect-autofill', !autofilling && 'rw-sr')\n  }), /*#__PURE__*/React.createElement(React.Fragment, null, allowSearch && /*#__PURE__*/React.createElement(\"input\", {\n    ref: searchRef,\n    disabled: disabled,\n    readOnly: readOnly,\n    style: style,\n    className: \"rw-dropdownlist-search\",\n    autoComplete: \"off\",\n    value: searchTerm || '',\n    size: (searchTerm || '').length + 2,\n    onChange: onSearch\n  }), !searchTerm && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rw-dropdown-list-value\",\n    style: style\n  }, inputValue)));\n});\nDropdownListInput.displayName = 'DropdownListInput';\nexport default DropdownListInput;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}