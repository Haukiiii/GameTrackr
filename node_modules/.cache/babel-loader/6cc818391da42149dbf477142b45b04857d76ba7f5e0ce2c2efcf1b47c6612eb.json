{"ast":null,"code":"const _excluded = [\"dataKey\", \"textField\", \"autoFocus\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"focusFirstItem\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"clearTagIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"showPlaceholderWithValues\", \"showSelectedItemsInList\", \"onSelect\", \"onCreate\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"popupProps\", \"renderListItem\", \"renderListGroup\", \"renderTagValue\", \"optionComponent\", \"tagOptionComponent\", \"groupBy\", \"listComponent\", \"popupComponent\", \"tagListComponent\", \"data\", \"messages\"];\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport cn from 'classnames';\nimport closest from 'dom-helpers/closest';\nimport PropTypes from 'prop-types';\nimport React, { useImperativeHandle, useMemo, useRef, useEffect } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport AddToListOption, { CREATE_OPTION } from './AddToListOption';\nimport { times } from './Icon';\nimport List from './List';\nimport { FocusListContext, useFocusList } from './FocusListContext';\nimport MultiselectInput from './MultiselectInput';\nimport MultiselectTagList from './MultiselectTagList';\nimport BasePopup from './Popup';\nimport Widget from './Widget';\nimport WidgetPicker from './WidgetPicker';\nimport { useMessagesWithDefaults } from './messages';\nimport { setActiveDescendant } from './A11y';\nimport { useFilteredData } from './Filter';\nimport * as CustomPropTypes from './PropTypes';\nimport canShowCreate from './canShowCreate';\nimport { useAccessors } from './Accessors';\nimport useDropdownToggle from './useDropdownToggle';\nimport useFocusManager from './useFocusManager';\nimport { notify, useFirstFocusedRender, useInstanceId } from './WidgetHelpers';\nimport DropdownCaret from './PickerCaret';\nconst ENTER = 13;\nconst INSERT = 'insert';\nconst REMOVE = 'remove';\nlet propTypes = {\n  data: PropTypes.array,\n  //-- controlled props --\n  value: PropTypes.array,\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: PropTypes.func,\n  searchTerm: PropTypes.string,\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: PropTypes.func,\n  open: PropTypes.bool,\n  handleOpen: PropTypes.func,\n  //-------------------------------------------\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  renderTagValue: PropTypes.func,\n  renderListItem: PropTypes.func,\n  renderListGroup: PropTypes.func,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: PropTypes.oneOf([true, false, 'onFilter']),\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: PropTypes.func,\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: PropTypes.func,\n  busy: PropTypes.bool,\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: PropTypes.node,\n  /** Specify the element used to render tag clear icons. */\n  clearTagIcon: PropTypes.node,\n  /** Specify the element used to render the busy indicator */\n  busySpinner: PropTypes.node,\n  dropUp: PropTypes.bool,\n  popupTransition: PropTypes.elementType,\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  listProps: PropTypes.object,\n  autoFocus: PropTypes.bool,\n  placeholder: PropTypes.string,\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: PropTypes.bool,\n  /** Continue to show the selected items in the dropdown list */\n  showSelectedItemsInList: PropTypes.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  messages: PropTypes.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n};\nconst EMPTY_ARRAY = [];\nfunction useMultiselectData() {\n  let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : EMPTY_ARRAY;\n  let data = arguments.length > 1 ? arguments[1] : undefined;\n  let accessors = arguments.length > 2 ? arguments[2] : undefined;\n  let filter = arguments.length > 3 ? arguments[3] : undefined;\n  let searchTerm = arguments.length > 4 ? arguments[4] : undefined;\n  let showSelectedItemsInList = arguments.length > 5 ? arguments[5] : undefined;\n  data = useMemo(() => showSelectedItemsInList ? data : data.filter(i => !value.some(v => accessors.matches(i, v))), [data, showSelectedItemsInList, value, accessors]);\n  return [useFilteredData(data, filter || false, searchTerm, accessors.text), data.length];\n}\n\n/**\n * ---\n * shortcuts:\n *   - { key: left arrow, label: move focus to previous tag }\n *   - { key: right arrow, label: move focus to next tag }\n *   - { key: delete, deselect focused tag }\n *   - { key: backspace, deselect next tag }\n *   - { key: alt + up arrow, label: close Multiselect }\n *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * A select listbox alternative.\n *\n * @public\n */\nconst Multiselect = /*#__PURE__*/React.forwardRef(function Multiselect(_ref, outerRef) {\n  let {\n      dataKey,\n      textField,\n      autoFocus,\n      id,\n      value,\n      defaultValue = [],\n      onChange,\n      open,\n      defaultOpen = false,\n      onToggle,\n      focusFirstItem = false,\n      searchTerm,\n      defaultSearchTerm = '',\n      onSearch,\n      filter = 'startsWith',\n      allowCreate = false,\n      className,\n      containerClassName,\n      placeholder,\n      busy,\n      disabled,\n      readOnly,\n      selectIcon,\n      clearTagIcon = times,\n      busySpinner,\n      dropUp,\n      tabIndex,\n      popupTransition,\n      showPlaceholderWithValues = false,\n      showSelectedItemsInList = false,\n      onSelect,\n      onCreate,\n      onKeyDown,\n      onBlur,\n      onFocus,\n      inputProps,\n      listProps,\n      popupProps,\n      renderListItem,\n      renderListGroup,\n      renderTagValue,\n      optionComponent,\n      tagOptionComponent,\n      groupBy,\n      listComponent: ListComponent = List,\n      popupComponent: Popup = BasePopup,\n      tagListComponent: TagList = MultiselectTagList,\n      data: rawData = [],\n      messages: userMessages\n    } = _ref,\n    elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  let [currentValue, handleChange] = useUncontrolledProp(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = useUncontrolledProp(open, defaultOpen, onToggle);\n  const [currentSearch, handleSearch] = useUncontrolledProp(searchTerm, defaultSearchTerm, onSearch);\n  const ref = useRef(null);\n  const inputRef = useRef(null);\n  const listRef = useRef(null);\n  const inputId = useInstanceId(id, '_input');\n  const tagsId = useInstanceId(id, '_taglist');\n  const listId = useInstanceId(id, '_listbox');\n  const createId = useInstanceId(id, '_createlist_option');\n  const activeTagId = useInstanceId(id, '_taglist_active_tag');\n  const activeOptionId = useInstanceId(id, '_listbox_active_option');\n  const accessors = useAccessors(textField, dataKey);\n  const messages = useMessagesWithDefaults(userMessages);\n  const toggle = useDropdownToggle(currentOpen, handleOpen);\n  const isDisabled = disabled === true;\n  const isReadOnly = !!readOnly;\n  const [focusEvents, focused] = useFocusManager(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused, event) {\n      if (focused) return focus();\n      toggle.close();\n      clearSearch(event);\n      tagList.focus(null);\n    }\n  });\n  const dataItems = useMemo(() => currentValue.map(item => accessors.findOrSelf(rawData, item)), [rawData, currentValue, accessors]);\n  const [data, lengthWithoutValues] = useMultiselectData(dataItems, rawData, accessors, currentOpen ? filter : false, currentSearch, showSelectedItemsInList);\n  const list = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-popup',\n    focusFirstItem,\n    activeId: activeOptionId,\n    anchorItem: currentOpen ? dataItems[dataItems.length - 1] : undefined\n  });\n  const tagList = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-multiselect-taglist',\n    activeId: activeTagId\n  });\n  const showCreateOption = canShowCreate(allowCreate, {\n    searchTerm: currentSearch,\n    data,\n    dataItems,\n    accessors\n  });\n  /**\n   * Update aria when it changes on update\n   */\n\n  const focusedTag = tagList.getFocused();\n  useEffect(() => {\n    if (currentOpen) return;\n    setActiveDescendant(inputRef.current, focusedTag ? activeTagId : '');\n  }, [activeTagId, currentOpen, focusedTag]);\n  const focusedItem = list.getFocused();\n  useEffect(() => {\n    if (!currentOpen) return; // if (focusedItem) tagList.focus(null)\n\n    setActiveDescendant(inputRef.current, focusedItem ? activeOptionId : '');\n  }, [activeOptionId, currentOpen, focusedItem]);\n  /**\n   * Event Handlers\n   */\n\n  const handleDelete = (dataItem, event) => {\n    if (isDisabled || readOnly || tagList.size() === 0) return;\n    focus();\n    change(dataItem, event, REMOVE);\n  };\n  const deletingRef = useRef(false);\n  const handleSearchKeyDown = e => {\n    if (e.key === 'Backspace' && e.currentTarget.value && !deletingRef.current) deletingRef.current = true;\n  };\n  const handleSearchKeyUp = e => {\n    if (e.key === 'Backspace' && deletingRef.current) {\n      deletingRef.current = false;\n    }\n  };\n  const handleInputChange = e => {\n    search(e.target.value, e, 'input');\n    toggle.open();\n  };\n  const handleClick = e => {\n    if (isDisabled || readOnly) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n    if (closest(e.target, '.rw-select') && currentOpen) {\n      toggle.close();\n    } else toggle.open();\n  };\n  const handleDoubleClick = () => {\n    if (isDisabled || !inputRef.current) return;\n    focus();\n    if (inputRef.current) inputRef.current.select();\n  };\n  const handleSelect = (dataItem, originalEvent) => {\n    if (dataItem === undefined) return;\n    originalEvent.preventDefault();\n    if (dataItem === CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n    notify(onSelect, [dataItem, {\n      originalEvent\n    }]);\n    if (!showSelectedItemsInList || !dataItems.includes(dataItem)) {\n      change(dataItem, originalEvent, INSERT);\n    } else {\n      change(dataItem, originalEvent, REMOVE);\n    }\n    focus();\n  };\n  const handleCreate = event => {\n    notify(onCreate, [currentSearch]);\n    clearSearch(event);\n    focus();\n  };\n  const handleKeyDown = event => {\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n    let {\n      key,\n      keyCode,\n      altKey,\n      ctrlKey\n    } = event;\n    notify(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n    if (key === 'ArrowDown') {\n      event.preventDefault();\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n      list.focus(list.next());\n      tagList.focus(null);\n    } else if (key === 'ArrowUp' && (currentOpen || altKey)) {\n      event.preventDefault();\n      if (altKey) {\n        toggle.close();\n        return;\n      }\n      list.focus(list.prev());\n      tagList.focus(null);\n    } else if (key === 'End') {\n      event.preventDefault();\n      if (currentOpen) {\n        list.focus(list.last());\n        tagList.focus(null);\n      } else {\n        tagList.focus(tagList.last());\n        list.focus(null);\n      }\n    } else if (key === 'Home') {\n      event.preventDefault();\n      if (currentOpen) list.focus(list.first());else list.focus(tagList.first());\n    } else if (currentOpen && keyCode === ENTER) {\n      // using keyCode to ignore enter for japanese IME\n      event.preventDefault();\n      if (ctrlKey && showCreateOption) {\n        return handleCreate(event);\n      }\n      handleSelect(list.getFocused(), event);\n    } else if (key === 'Escape') {\n      if (currentOpen) toggle.close();else tagList.focus(null); //\n    } else if (!currentSearch && !deletingRef.current) {\n      //\n      if (key === 'ArrowLeft') {\n        tagList.focus(tagList.prev({\n          behavior: 'loop'\n        }));\n      } else if (key === 'ArrowRight') {\n        tagList.focus(tagList.next({\n          behavior: 'loop'\n        })); //\n      } else if (key === 'Delete' && tagList.getFocused()) {\n        handleDelete(tagList.getFocused(), event); //\n      } else if (key === 'Backspace') {\n        handleDelete(tagList.toDataItem(tagList.last()), event);\n      } else if (key === ' ' && !currentOpen) {\n        event.preventDefault();\n        toggle.open();\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n  function change(dataItem, originalEvent, action) {\n    let nextDataItems = dataItems;\n    switch (action) {\n      case INSERT:\n        nextDataItems = nextDataItems.concat(dataItem);\n        break;\n      case REMOVE:\n        nextDataItems = nextDataItems.filter(d => d !== dataItem);\n        break;\n    }\n    handleChange(nextDataItems, {\n      action,\n      dataItem,\n      originalEvent,\n      searchTerm: currentSearch,\n      lastValue: currentValue\n    });\n    clearSearch(originalEvent);\n  }\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n  function search(nextSearchTerm, originalEvent) {\n    let action = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'input';\n    if (nextSearchTerm !== currentSearch) handleSearch(nextSearchTerm, {\n      action,\n      originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n  function focus() {\n    if (inputRef.current) inputRef.current.focus();\n  }\n  /**\n   * Render\n   */\n\n  useImperativeHandle(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderPopup = useFirstFocusedRender(focused, currentOpen);\n  let shouldRenderTags = !!dataItems.length;\n  let inputOwns = `${listId} ` + (shouldRenderTags ? tagsId : '') + (showCreateOption ? createId : '');\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    className: cn(className, 'rw-multiselect')\n  }), /*#__PURE__*/React.createElement(WidgetPicker, {\n    onClick: handleClick,\n    onTouchEnd: handleClick,\n    onDoubleClick: handleDoubleClick,\n    className: cn(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: tagList.context\n  }, /*#__PURE__*/React.createElement(TagList, {\n    id: tagsId,\n    textAccessor: accessors.text,\n    clearTagIcon: clearTagIcon,\n    label: messages.tagsLabel(),\n    value: dataItems,\n    readOnly: isReadOnly,\n    disabled: disabled,\n    onDelete: handleDelete,\n    tagOptionComponent: tagOptionComponent,\n    renderTagValue: renderTagValue\n  }, /*#__PURE__*/React.createElement(MultiselectInput, _extends({}, inputProps, {\n    role: \"combobox\",\n    autoFocus: autoFocus,\n    tabIndex: tabIndex || 0,\n    \"aria-expanded\": !!currentOpen,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": inputOwns,\n    \"aria-controls\": listId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-autocomplete\": \"list\",\n    value: currentSearch,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    placeholder: (currentValue.length && !showPlaceholderWithValues ? '' : placeholder) || '',\n    onKeyDown: handleSearchKeyDown,\n    onKeyUp: handleSearchKeyUp,\n    onChange: handleInputChange,\n    ref: inputRef\n  })))), /*#__PURE__*/React.createElement(DropdownCaret, {\n    busy: busy,\n    spinner: busySpinner,\n    icon: selectIcon,\n    visible: focused\n  })), /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/React.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntering: () => listRef.current.scrollIntoView()\n  }), /*#__PURE__*/React.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    value: dataItems,\n    groupBy: groupBy,\n    optionComponent: optionComponent,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/React.createElement(AddToListOption, {\n    onSelect: handleCreate\n  }, messages.createOption(currentValue, currentSearch)))));\n});\nMultiselect.displayName = 'Multiselect';\nMultiselect.propTypes = propTypes;\nexport default Multiselect;","map":{"version":3,"names":["_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","cn","closest","PropTypes","React","useImperativeHandle","useMemo","useRef","useEffect","useUncontrolledProp","AddToListOption","CREATE_OPTION","times","List","FocusListContext","useFocusList","MultiselectInput","MultiselectTagList","BasePopup","Widget","WidgetPicker","useMessagesWithDefaults","setActiveDescendant","useFilteredData","CustomPropTypes","canShowCreate","useAccessors","useDropdownToggle","useFocusManager","notify","useFirstFocusedRender","useInstanceId","DropdownCaret","ENTER","INSERT","REMOVE","propTypes","data","array","value","onChange","func","searchTerm","string","onSearch","open","bool","handleOpen","dataKey","accessor","textField","renderTagValue","renderListItem","renderListGroup","groupBy","allowCreate","oneOf","onSelect","onCreate","busy","selectIcon","node","clearTagIcon","busySpinner","dropUp","popupTransition","elementType","containerClassName","inputProps","object","listProps","autoFocus","placeholder","showPlaceholderWithValues","showSelectedItemsInList","disabled","acceptsArray","readOnly","messages","shape","message","emptyList","emptyFilter","createOption","tagsLabel","selectedItems","noneSelected","removeLabel","EMPTY_ARRAY","useMultiselectData","undefined","accessors","filter","some","v","matches","text","Multiselect","forwardRef","_ref","outerRef","id","defaultValue","defaultOpen","onToggle","focusFirstItem","defaultSearchTerm","className","tabIndex","onKeyDown","onBlur","onFocus","popupProps","optionComponent","tagOptionComponent","listComponent","ListComponent","popupComponent","Popup","tagListComponent","TagList","rawData","userMessages","elementProps","currentValue","handleChange","currentOpen","currentSearch","handleSearch","ref","inputRef","listRef","inputId","tagsId","listId","createId","activeTagId","activeOptionId","toggle","isDisabled","isReadOnly","focusEvents","focused","didHandle","event","focus","close","clearSearch","tagList","dataItems","map","item","findOrSelf","lengthWithoutValues","list","scope","scopeSelector","activeId","anchorItem","showCreateOption","focusedTag","getFocused","current","focusedItem","handleDelete","dataItem","size","change","deletingRef","handleSearchKeyDown","e","currentTarget","handleSearchKeyUp","handleInputChange","search","handleClick","preventDefault","handleDoubleClick","select","handleSelect","originalEvent","handleCreate","includes","handleKeyDown","keyCode","altKey","ctrlKey","defaultPrevented","next","prev","last","first","behavior","toDataItem","action","nextDataItems","concat","d","lastValue","nextSearchTerm","lastSearchTerm","shouldRenderPopup","shouldRenderTags","inputOwns","createElement","onClick","onTouchEnd","onDoubleClick","Provider","context","textAccessor","label","onDelete","role","onKeyUp","spinner","icon","visible","transition","onEntering","scrollIntoView","renderItem","renderGroup","meta","displayName"],"sources":["C:/Users/Viktor/Desktop/TDDD27/Ny mapp/Third commit/node_modules/react-widgets/esm/Multiselect.js"],"sourcesContent":["const _excluded = [\"dataKey\", \"textField\", \"autoFocus\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"focusFirstItem\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"clearTagIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"showPlaceholderWithValues\", \"showSelectedItemsInList\", \"onSelect\", \"onCreate\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"popupProps\", \"renderListItem\", \"renderListGroup\", \"renderTagValue\", \"optionComponent\", \"tagOptionComponent\", \"groupBy\", \"listComponent\", \"popupComponent\", \"tagListComponent\", \"data\", \"messages\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cn from 'classnames';\nimport closest from 'dom-helpers/closest';\nimport PropTypes from 'prop-types';\nimport React, { useImperativeHandle, useMemo, useRef, useEffect } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport AddToListOption, { CREATE_OPTION } from './AddToListOption';\nimport { times } from './Icon';\nimport List from './List';\nimport { FocusListContext, useFocusList } from './FocusListContext';\nimport MultiselectInput from './MultiselectInput';\nimport MultiselectTagList from './MultiselectTagList';\nimport BasePopup from './Popup';\nimport Widget from './Widget';\nimport WidgetPicker from './WidgetPicker';\nimport { useMessagesWithDefaults } from './messages';\nimport { setActiveDescendant } from './A11y';\nimport { useFilteredData } from './Filter';\nimport * as CustomPropTypes from './PropTypes';\nimport canShowCreate from './canShowCreate';\nimport { useAccessors } from './Accessors';\nimport useDropdownToggle from './useDropdownToggle';\nimport useFocusManager from './useFocusManager';\nimport { notify, useFirstFocusedRender, useInstanceId } from './WidgetHelpers';\nimport DropdownCaret from './PickerCaret';\nconst ENTER = 13;\nconst INSERT = 'insert';\nconst REMOVE = 'remove';\nlet propTypes = {\n  data: PropTypes.array,\n  //-- controlled props --\n  value: PropTypes.array,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: PropTypes.func,\n  searchTerm: PropTypes.string,\n\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: PropTypes.func,\n  open: PropTypes.bool,\n  handleOpen: PropTypes.func,\n  //-------------------------------------------\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  renderTagValue: PropTypes.func,\n  renderListItem: PropTypes.func,\n  renderListGroup: PropTypes.func,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: PropTypes.oneOf([true, false, 'onFilter']),\n\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: PropTypes.func,\n\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: PropTypes.func,\n  busy: PropTypes.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: PropTypes.node,\n\n  /** Specify the element used to render tag clear icons. */\n  clearTagIcon: PropTypes.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: PropTypes.node,\n  dropUp: PropTypes.bool,\n  popupTransition: PropTypes.elementType,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  listProps: PropTypes.object,\n  autoFocus: PropTypes.bool,\n  placeholder: PropTypes.string,\n\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: PropTypes.bool,\n\n  /** Continue to show the selected items in the dropdown list */\n  showSelectedItemsInList: PropTypes.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  messages: PropTypes.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n};\nconst EMPTY_ARRAY = [];\n\nfunction useMultiselectData(value = EMPTY_ARRAY, data, accessors, filter, searchTerm, showSelectedItemsInList) {\n  data = useMemo(() => showSelectedItemsInList ? data : data.filter(i => !value.some(v => accessors.matches(i, v))), [data, showSelectedItemsInList, value, accessors]);\n  return [useFilteredData(data, filter || false, searchTerm, accessors.text), data.length];\n}\n\n/**\n * ---\n * shortcuts:\n *   - { key: left arrow, label: move focus to previous tag }\n *   - { key: right arrow, label: move focus to next tag }\n *   - { key: delete, deselect focused tag }\n *   - { key: backspace, deselect next tag }\n *   - { key: alt + up arrow, label: close Multiselect }\n *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * A select listbox alternative.\n *\n * @public\n */\nconst Multiselect = /*#__PURE__*/React.forwardRef(function Multiselect(_ref, outerRef) {\n  let {\n    dataKey,\n    textField,\n    autoFocus,\n    id,\n    value,\n    defaultValue = [],\n    onChange,\n    open,\n    defaultOpen = false,\n    onToggle,\n    focusFirstItem = false,\n    searchTerm,\n    defaultSearchTerm = '',\n    onSearch,\n    filter = 'startsWith',\n    allowCreate = false,\n    className,\n    containerClassName,\n    placeholder,\n    busy,\n    disabled,\n    readOnly,\n    selectIcon,\n    clearTagIcon = times,\n    busySpinner,\n    dropUp,\n    tabIndex,\n    popupTransition,\n    showPlaceholderWithValues = false,\n    showSelectedItemsInList = false,\n    onSelect,\n    onCreate,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    inputProps,\n    listProps,\n    popupProps,\n    renderListItem,\n    renderListGroup,\n    renderTagValue,\n    optionComponent,\n    tagOptionComponent,\n    groupBy,\n    listComponent: ListComponent = List,\n    popupComponent: Popup = BasePopup,\n    tagListComponent: TagList = MultiselectTagList,\n    data: rawData = [],\n    messages: userMessages\n  } = _ref,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  let [currentValue, handleChange] = useUncontrolledProp(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = useUncontrolledProp(open, defaultOpen, onToggle);\n  const [currentSearch, handleSearch] = useUncontrolledProp(searchTerm, defaultSearchTerm, onSearch);\n  const ref = useRef(null);\n  const inputRef = useRef(null);\n  const listRef = useRef(null);\n  const inputId = useInstanceId(id, '_input');\n  const tagsId = useInstanceId(id, '_taglist');\n  const listId = useInstanceId(id, '_listbox');\n  const createId = useInstanceId(id, '_createlist_option');\n  const activeTagId = useInstanceId(id, '_taglist_active_tag');\n  const activeOptionId = useInstanceId(id, '_listbox_active_option');\n  const accessors = useAccessors(textField, dataKey);\n  const messages = useMessagesWithDefaults(userMessages);\n  const toggle = useDropdownToggle(currentOpen, handleOpen);\n  const isDisabled = disabled === true;\n  const isReadOnly = !!readOnly;\n  const [focusEvents, focused] = useFocusManager(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused, event) {\n      if (focused) return focus();\n      toggle.close();\n      clearSearch(event);\n      tagList.focus(null);\n    }\n\n  });\n  const dataItems = useMemo(() => currentValue.map(item => accessors.findOrSelf(rawData, item)), [rawData, currentValue, accessors]);\n  const [data, lengthWithoutValues] = useMultiselectData(dataItems, rawData, accessors, currentOpen ? filter : false, currentSearch, showSelectedItemsInList);\n  const list = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-popup',\n    focusFirstItem,\n    activeId: activeOptionId,\n    anchorItem: currentOpen ? dataItems[dataItems.length - 1] : undefined\n  });\n  const tagList = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-multiselect-taglist',\n    activeId: activeTagId\n  });\n  const showCreateOption = canShowCreate(allowCreate, {\n    searchTerm: currentSearch,\n    data,\n    dataItems,\n    accessors\n  });\n  /**\n   * Update aria when it changes on update\n   */\n\n  const focusedTag = tagList.getFocused();\n  useEffect(() => {\n    if (currentOpen) return;\n    setActiveDescendant(inputRef.current, focusedTag ? activeTagId : '');\n  }, [activeTagId, currentOpen, focusedTag]);\n  const focusedItem = list.getFocused();\n  useEffect(() => {\n    if (!currentOpen) return; // if (focusedItem) tagList.focus(null)\n\n    setActiveDescendant(inputRef.current, focusedItem ? activeOptionId : '');\n  }, [activeOptionId, currentOpen, focusedItem]);\n  /**\n   * Event Handlers\n   */\n\n  const handleDelete = (dataItem, event) => {\n    if (isDisabled || readOnly || tagList.size() === 0) return;\n    focus();\n    change(dataItem, event, REMOVE);\n  };\n\n  const deletingRef = useRef(false);\n\n  const handleSearchKeyDown = e => {\n    if (e.key === 'Backspace' && e.currentTarget.value && !deletingRef.current) deletingRef.current = true;\n  };\n\n  const handleSearchKeyUp = e => {\n    if (e.key === 'Backspace' && deletingRef.current) {\n      deletingRef.current = false;\n    }\n  };\n\n  const handleInputChange = e => {\n    search(e.target.value, e, 'input');\n    toggle.open();\n  };\n\n  const handleClick = e => {\n    if (isDisabled || readOnly) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n\n    if (closest(e.target, '.rw-select') && currentOpen) {\n      toggle.close();\n    } else toggle.open();\n  };\n\n  const handleDoubleClick = () => {\n    if (isDisabled || !inputRef.current) return;\n    focus();\n    if (inputRef.current) inputRef.current.select();\n  };\n\n  const handleSelect = (dataItem, originalEvent) => {\n    if (dataItem === undefined) return;\n    originalEvent.preventDefault();\n\n    if (dataItem === CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n\n    notify(onSelect, [dataItem, {\n      originalEvent\n    }]);\n\n    if (!showSelectedItemsInList || !dataItems.includes(dataItem)) {\n      change(dataItem, originalEvent, INSERT);\n    } else {\n      change(dataItem, originalEvent, REMOVE);\n    }\n\n    focus();\n  };\n\n  const handleCreate = event => {\n    notify(onCreate, [currentSearch]);\n    clearSearch(event);\n    focus();\n  };\n\n  const handleKeyDown = event => {\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n\n    let {\n      key,\n      keyCode,\n      altKey,\n      ctrlKey\n    } = event;\n    notify(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n\n    if (key === 'ArrowDown') {\n      event.preventDefault();\n\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n\n      list.focus(list.next());\n      tagList.focus(null);\n    } else if (key === 'ArrowUp' && (currentOpen || altKey)) {\n      event.preventDefault();\n\n      if (altKey) {\n        toggle.close();\n        return;\n      }\n\n      list.focus(list.prev());\n      tagList.focus(null);\n    } else if (key === 'End') {\n      event.preventDefault();\n\n      if (currentOpen) {\n        list.focus(list.last());\n        tagList.focus(null);\n      } else {\n        tagList.focus(tagList.last());\n        list.focus(null);\n      }\n    } else if (key === 'Home') {\n      event.preventDefault();\n      if (currentOpen) list.focus(list.first());else list.focus(tagList.first());\n    } else if (currentOpen && keyCode === ENTER) {\n      // using keyCode to ignore enter for japanese IME\n      event.preventDefault();\n\n      if (ctrlKey && showCreateOption) {\n        return handleCreate(event);\n      }\n\n      handleSelect(list.getFocused(), event);\n    } else if (key === 'Escape') {\n      if (currentOpen) toggle.close();else tagList.focus(null); //\n    } else if (!currentSearch && !deletingRef.current) {\n      //\n      if (key === 'ArrowLeft') {\n        tagList.focus(tagList.prev({\n          behavior: 'loop'\n        }));\n      } else if (key === 'ArrowRight') {\n        tagList.focus(tagList.next({\n          behavior: 'loop'\n        })); //\n      } else if (key === 'Delete' && tagList.getFocused()) {\n        handleDelete(tagList.getFocused(), event); //\n      } else if (key === 'Backspace') {\n        handleDelete(tagList.toDataItem(tagList.last()), event);\n      } else if (key === ' ' && !currentOpen) {\n        event.preventDefault();\n        toggle.open();\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n\n  function change(dataItem, originalEvent, action) {\n    let nextDataItems = dataItems;\n\n    switch (action) {\n      case INSERT:\n        nextDataItems = nextDataItems.concat(dataItem);\n        break;\n\n      case REMOVE:\n        nextDataItems = nextDataItems.filter(d => d !== dataItem);\n        break;\n    }\n\n    handleChange(nextDataItems, {\n      action,\n      dataItem,\n      originalEvent,\n      searchTerm: currentSearch,\n      lastValue: currentValue\n    });\n    clearSearch(originalEvent);\n  }\n\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n\n  function search(nextSearchTerm, originalEvent, action = 'input') {\n    if (nextSearchTerm !== currentSearch) handleSearch(nextSearchTerm, {\n      action,\n      originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n\n  function focus() {\n    if (inputRef.current) inputRef.current.focus();\n  }\n  /**\n   * Render\n   */\n\n\n  useImperativeHandle(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderPopup = useFirstFocusedRender(focused, currentOpen);\n  let shouldRenderTags = !!dataItems.length;\n  let inputOwns = `${listId} ` + (shouldRenderTags ? tagsId : '') + (showCreateOption ? createId : '');\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    className: cn(className, 'rw-multiselect')\n  }), /*#__PURE__*/React.createElement(WidgetPicker, {\n    onClick: handleClick,\n    onTouchEnd: handleClick,\n    onDoubleClick: handleDoubleClick,\n    className: cn(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: tagList.context\n  }, /*#__PURE__*/React.createElement(TagList, {\n    id: tagsId,\n    textAccessor: accessors.text,\n    clearTagIcon: clearTagIcon,\n    label: messages.tagsLabel(),\n    value: dataItems,\n    readOnly: isReadOnly,\n    disabled: disabled,\n    onDelete: handleDelete,\n    tagOptionComponent: tagOptionComponent,\n    renderTagValue: renderTagValue\n  }, /*#__PURE__*/React.createElement(MultiselectInput, _extends({}, inputProps, {\n    role: \"combobox\",\n    autoFocus: autoFocus,\n    tabIndex: tabIndex || 0,\n    \"aria-expanded\": !!currentOpen,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": inputOwns,\n    \"aria-controls\": listId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-autocomplete\": \"list\",\n    value: currentSearch,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    placeholder: (currentValue.length && !showPlaceholderWithValues ? '' : placeholder) || '',\n    onKeyDown: handleSearchKeyDown,\n    onKeyUp: handleSearchKeyUp,\n    onChange: handleInputChange,\n    ref: inputRef\n  })))), /*#__PURE__*/React.createElement(DropdownCaret, {\n    busy: busy,\n    spinner: busySpinner,\n    icon: selectIcon,\n    visible: focused\n  })), /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/React.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntering: () => listRef.current.scrollIntoView()\n  }), /*#__PURE__*/React.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    value: dataItems,\n    groupBy: groupBy,\n    optionComponent: optionComponent,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/React.createElement(AddToListOption, {\n    onSelect: handleCreate\n  }, messages.createOption(currentValue, currentSearch)))));\n});\nMultiselect.displayName = 'Multiselect';\nMultiselect.propTypes = propTypes;\nexport default Multiselect;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}